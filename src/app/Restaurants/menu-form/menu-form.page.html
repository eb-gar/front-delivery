<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/menu"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ isEdit ? 'Editar Plato' : 'Nuevo Plato' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="form-content">
  <div class="login-background"></div>

  <div class="form-wrapper">
    <form (ngSubmit)="guardar()" class="dish-form">
      <!-- Nombre -->
      <div class="form-item">
        <ion-input
          label="Nombre del plato"
          labelPlacement="floating"
          [(ngModel)]="plato.name"
          name="name"
          required
          placeholder="Ej: Lomo Saltado"
          class="custom-input"
        ></ion-input>
      </div>

      <!-- Descripci贸n -->
      <div class="form-item">
        <ion-textarea
          label="Descripci贸n"
          labelPlacement="floating"
          [(ngModel)]="plato.description"
          name="description"
          placeholder="Descripci贸n detallada del plato"
          rows="4"
          class="custom-input"
        ></ion-textarea>
      </div>

      <!-- Precio -->
      <div class="form-item">
        <div class="input-wrapper">
          <ion-input
            label="Precio"
            labelPlacement="floating"
            type="number"
            step="0.01"
            [(ngModel)]="plato.price"
            name="price"
            required
            placeholder="0.00"
            class="custom-input"
          ></ion-input>
          <ion-label class="currency-symbol">$</ion-label>
        </div>
      </div>

      <!-- Imagen -->
      <div class="image-upload-container">
        <input 
          type="file" 
          id="fileInput" 
          (change)="onFileSelected($event)" 
          accept="image/*"
          hidden
        />
        <ion-label class="upload-label">Imagen del plato</ion-label>

        <div class="upload-area" (click)="triggerFileInput()">
          <div *ngIf="!previewUrl" class="upload-placeholder">
            <p>Haz clic para seleccionar una imagen</p>
          </div>
          <img *ngIf="previewUrl" [src]="previewUrl" class="image-preview" />
        </div>
      </div>

      <!-- Bot贸n de guardar -->
      <ion-button 
        expand="block" 
        type="submit" 
        class="save-button"
        [disabled]="!plato.name || !plato.price"
      >
        <ion-icon name="save-outline" slot="start"></ion-icon>
        {{ isEdit ? 'Actualizar Plato' : 'GUARDAR PLATO' }}
      </ion-button>
    </form>
  </div>
</ion-content>
